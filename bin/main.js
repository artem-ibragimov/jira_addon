"use strict";function e(e){return new Promise(((t,n)=>{const r=new XMLHttpRequest;r.onreadystatechange=()=>{r.readyState==XMLHttpRequest.DONE&&200==r.status&&t(r.responseText)},r.onabort=n,r.onerror=n,r.open("GET",`/rest/greenhopper/1.0/xboard/plan/v2/backlog/data?rapidViewId=${e}&forceConsistency=true`),r.send()}))}function t(e){const t=JSON.parse(e);return Object.fromEntries(t.issues.map((e=>[e.key,e])))}function n(e){Array.from(document.querySelectorAll(".ghx-issues")).forEach((t=>{const n={};Array.from(t.children).forEach((t=>{const r=t.querySelector("span.ghx-items-container"),o=t.getAttribute("data-issue-key");if(!r||!o)return;const s=document.createElement("span"),a=e[o].trackingStatistic.statFieldValue.text;s.innerText=a,r.insertBefore(s,r.firstChild);const i=e[o].assigneeName||"Unassigned";n[i]=Math.round(100*(n[i]||0+parseFloat(a||"0")))/100}));const r=document.createElement("a"),o=document.createElement("pre");t.insertBefore(o,r),r.innerText="ðŸ“Š",r.onclick=()=>{o.innerText=JSON.stringify(n,null,2)},t.insertBefore(r,t.firstChild),console.info(n)}))}window.addEventListener("load",(()=>{new Promise(((e,t)=>{try{const n=localStorage.getItem("gh.latestRapidViewId");if(!n)return t(new Error("No rapidViewId"));e(n)}catch(e){t(e)}})).then(e).then(t).then(n).catch(console.error)}));
